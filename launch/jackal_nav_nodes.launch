<?xml version="1.0"?>
<launch>

	<arg name="REACH_IP" value="$(optenv REACH_IP 192.168.131.201)" />
	<arg name="REACH_SERIAL_PORT" value="$(optenv REACH_SERIAL_PORT /dev/ttyACM1)" />
	<arg name="REACH_BAUD" value="$(optenv REACH_BAUD 9600)" />
	<arg name="ARDUINO_SERIAL_PORT" value="$(optenv ARDUINO_SERIAL_PORT /dev/ttyACM2)" />
	<arg name="ARDUINO_BAUD" value="$(optenv ARDUINO_BAUD 9600)" />

	<!-- Load env vars -->
	<!-- <include file="$(find simple_navigation_goals)/launch/ros_env_vars.launch" /> -->

	<!-- Load ROS params -->
	<!-- <rosparam command="load" file="$(find simple_navigation_goals)/config/red_rover_config.yaml" /> -->

	<!-- Launches emlid_socketio_client.py file TODO: Convert to ROS service or node -->
	<node pkg="simple_navigation_goals" name="emlid_socketio_client" type="emlid_socketio_client.py" output="screen">
	</node>
	
	<!-- Launches file for rosbridge server -->
	<include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch" />

	<!-- Node to read data from reach via serial -->
	<node pkg="nmea_navsat_driver" type="nmea_serial_driver" name="reach_nmea_driver" respawn="false">
		<param name="port" value="$(arg REACH_SERIAL_PORT)" />
		<param name="baud" value="$(arg REACH_BAUD)" />
	</node>

	<!-- Launches IMU launch file -->
	<include file="$(find simple_navigation_goals)/launch/imu.launch" ns="phidget" />

</launch>